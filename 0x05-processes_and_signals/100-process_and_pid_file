#!/bin/bash

# Function to handle cleanup
cleanup() {
  echo "Deleting PID file and terminating..."
  rm -f /var/run/myscript.pid
  exit 0
}

# Set the trap for SIGTERM and SIGQUIT
trap cleanup SIGTERM SIGQUIT

# Function to handle SIGINT
sigint_handler() {
  echo "Y U no love me?!"
}

# Set the trap for SIGINT
trap sigint_handler SIGINT

# Function to handle SIGTERM
sigterm_handler() {
  echo "I hate the kill command"
}

# Set the trap for SIGTERM
trap sigterm_handler SIGTERM

# Create a PID file with the script's PID
echo $$ > /var/run/myscript.pid

# Display the message indefinitely
while true; do
  echo "To infinity and beyond"
  sleep 1
done
